# /agent-guide

Comprehensive guide for effectively using all 26 specialized AI agents in the current ecosystem.

## Current Agent Ecosystem (16 agents)

### Foundation Agents (6 total)
- **foundation-patterns**: Identify code patterns and anti-patterns at scale
- **foundation-research**: Parallel web research with latest information
- **foundation-context**: Deep system understanding across entire codebases
- **foundation-principles**: Apply fundamental software engineering principles
- **foundation-criticism**: Risk analysis and constructive challenge of proposals
- **foundation-conflicts**: Navigate conflicts between competing approaches

### Specialist Agents (10 total)
- **specialist-code-cleaner**: Code style improvements and micro-optimizations
- **specialist-constraint-solver**: Navigate complex multi-dimensional limitations and design type-safe systems
- **specialist-git-workflow**: Autonomous git release management and systematic error resolution
- **specialist-meta-programmer**: Create code generators and domain-specific languages
- **specialist-options-analyzer**: Generate and evaluate multiple solution alternatives
- **specialist-performance-optimizer**: Algorithmic complexity analysis and optimization strategies
- **specialist-prompt-engineer**: AI agent prompt creation for user projects
- **specialist-stack-advisor**: Technology-specific guidance for files and architecture decisions
- **specialist-test-strategist**: Comprehensive test strategy development and coverage analysis
- **specialist-todo-manager**: Specialized task lifecycle management (context-clean)

## Enhanced Multi-Agent Coordination Patterns

### Enhanced Security Assessment Workflow
**Trigger**: User mentions security review, vulnerabilities, compliance
**Enhanced Parallel Clusters** (CLAUDE.md compliant 3+ agents):
- **Primary Analysis**: foundation-patterns + foundation-principles + foundation-criticism (3 agents)
- **Context & Research**: foundation-context + foundation-research + specialist-constraint-solver (3 agents)
- **Implementation Validation**: specialist-test-strategist + foundation-principles + specialist-stack-advisor (3 agents)

### Enhanced Performance Optimization Workflow  
**Trigger**: User reports performance issues, slow code, optimization needs
**Enhanced Parallel Clusters** (CLAUDE.md compliant 3+ agents):
- **Performance Analysis**: specialist-performance-optimizer + foundation-patterns + foundation-criticism + specialist-constraint-solver (4 agents)
- **Architecture Quality**: foundation-principles + foundation-context + specialist-stack-advisor + foundation-conflicts (4 agents)
- **Implementation Excellence**: specialist-code-cleaner + foundation-patterns + specialist-test-strategist + foundation-principles (4 agents)
- **Validation**: specialist-options-analyzer + foundation-conflicts + specialist-test-strategist + foundation-criticism (4 agents)

### Enhanced Architecture Design Workflow
**Trigger**: User asks about system design, architecture decisions
**Enhanced Parallel Clusters** (CLAUDE.md compliant 3+ agents):
- **Alternative Generation**: specialist-options-analyzer + specialist-constraint-solver + foundation-patterns + foundation-research (4 agents)
- **Critical Evaluation**: foundation-criticism + foundation-principles + specialist-test-strategist + specialist-constraint-solver (4 agents)
- **Resolution Framework**: foundation-conflicts + foundation-principles + specialist-constraint-solver + foundation-context (4 agents)
- **Documentation**: specialist-stack-advisor + foundation-principles + foundation-context + specialist-code-cleaner (4 agents)

### Enhanced Quality Assurance Workflow
**Trigger**: User requests code review, quality improvement
**Enhanced Parallel Clusters** (CLAUDE.md compliant 3+ agents):
- **Pattern & Quality**: foundation-patterns + foundation-principles + specialist-code-cleaner + foundation-criticism (4 agents)
- **Context & Research**: foundation-research + foundation-context + specialist-stack-advisor + foundation-patterns (4 agents)
- **Performance & Architecture**: specialist-performance-optimizer + specialist-constraint-solver + foundation-principles + foundation-criticism (4 agents)
- **Testing & Validation**: specialist-test-strategist + foundation-patterns + foundation-criticism + specialist-constraint-solver (4 agents)

### Enhanced Debugging Investigation Workflow
**Trigger**: Strange behavior, unexpected results, "why does this happen"
**Enhanced Parallel Clusters** (CLAUDE.md compliant 3+ agents):
- **Evidence Analysis**: foundation-research + foundation-context + foundation-patterns + specialist-options-analyzer (4 agents)
- **Critical Evaluation**: foundation-criticism + foundation-principles + specialist-test-strategist + specialist-constraint-solver (4 agents)
- **Resolution Framework**: foundation-conflicts + foundation-principles + specialist-constraint-solver + foundation-context (4 agents)
- **Performance Impact**: specialist-performance-optimizer + specialist-constraint-solver + foundation-criticism + foundation-patterns (4 agents)

## Agent Selection by Task Type

### Understanding Systems (CLAUDE.md compliant 3+ agents)
- **How does X work?** → foundation-context + foundation-patterns + foundation-research (3 agents)
- **Historical evolution** → foundation-context + foundation-patterns + foundation-research (3 agents)
- **Architecture flow** → foundation-context + specialist-options-analyzer + foundation-principles (3 agents)

### Finding Problems (CLAUDE.md compliant 3+ agents)
- **Performance bottlenecks** → specialist-performance-optimizer + foundation-patterns + foundation-criticism (3 agents)
- **Code quality** → foundation-patterns + foundation-principles + foundation-criticism (3 agents)
- **Test gaps** → specialist-test-strategist + foundation-patterns + foundation-criticism (3 agents)
- **Architecture issues** → foundation-context + foundation-principles + specialist-stack-advisor (3 agents)

### Making Decisions (CLAUDE.md compliant 3+ agents)
- **Choose approach** → specialist-options-analyzer + specialist-constraint-solver + foundation-conflicts (3 agents)
- **Architecture design** → specialist-stack-advisor + specialist-options-analyzer + foundation-principles (3 agents)
- **Trade-off analysis** → specialist-constraint-solver + foundation-conflicts + foundation-criticism (3 agents)

### Implementation Tasks (CLAUDE.md compliant 3+ agents)
- **Complete features** → specialist-code-cleaner + foundation-patterns + specialist-test-strategist (3 agents)
- **Refactor code** → foundation-patterns + foundation-principles + specialist-code-cleaner (3 agents)
- **Optimize performance** → specialist-performance-optimizer + foundation-patterns + specialist-constraint-solver (3 agents)
- **Architecture decisions** → foundation-context + foundation-principles + specialist-stack-advisor (3 agents)

## Proactive Agent Usage Protocol

**Claude Code automatically invokes enhanced multiple agent clusters based on context with universal agent integration. Users don't need to explicitly request agents - the system now provides comprehensive parallel analysis with researcher, critic, and principles agents integrated across all commands.**

### Automatic Agent Combinations (CLAUDE.md compliant 3+ agents)
- **"This code looks messy"** → foundation-patterns + specialist-code-cleaner + foundation-criticism (3 agents)
- **"How should I structure this?"** → specialist-stack-advisor + specialist-options-analyzer + foundation-principles (3 agents)
- **Error messages shown** → foundation-research + specialist-options-analyzer + foundation-patterns (3 agents)
- **"Why is this slow?"** → specialist-performance-optimizer + foundation-patterns + foundation-criticism (3 agents)

### Enhanced Advanced Multi-Agent Workflows

**Enhanced Security specialists demonstrate sophisticated coordination:**
- **Primary Security Analysis Cluster**: vulnerability-scanner + threat-modeling + compliance-checker + researcher (comprehensive security analysis with intelligence validation)
- **Threat Intelligence Cluster**: researcher + patterns + hypothesis + context + time (CVE intelligence, pattern recognition, threat modeling, system understanding, historical analysis)
- **Risk Assessment Cluster**: critic + completer + performance + time + resolver (risk validation, completeness assessment, performance impact, historical analysis, conflict resolution)

**Enhanced Performance analysis follows systematic patterns:**
- **Performance Analysis Cluster**: performance + hypothesis + patterns + critic + constraints (performance bottlenecks, optimization theories, pattern recognition, critical assessment, resource limitations)
- **Architecture Quality Cluster**: principles + invariants + axioms + completer + resolver (design principles, integrity validation, fundamental soundness, completeness assessment, conflict resolution)

**Enhanced Testing strategy employs comprehensive coordination:**
- **Coverage Analysis Cluster**: patterns + completer + whisper + critic + researcher (test patterns, coverage gaps, micro-improvements, critical assessment, research validation)
- **Security Testing Cluster**: vulnerability-scanner + threat-modeling + compliance-checker + researcher + patterns (security testing with comprehensive threat analysis)
- **Performance Testing Cluster**: performance + constraints + hypothesis + time + axioms (performance testing with resource analysis and fundamental principles)

## Gold Standard Agents (Excellence Examples)

**5-Star Rated Agents for Reference:**
- **performance.md**: 261 lines of algorithmic analysis perfection
- **testing.md**: 308 lines of systematic testing methodology
- **vulnerability-scanner.md**: Exemplary security pattern matching
- **threat-modeling.md**: Outstanding architectural security analysis
- **compliance-checker.md**: Comprehensive regulatory framework coverage

**Ecosystem Health: Current 16 agents (6 foundation + 10 specialist) following CLAUDE.md parallel execution protocols**

## Related Commands
- `/agent-audit` - Comprehensive ecosystem health analysis
- `/agent-create` - Create new agents following proven principles